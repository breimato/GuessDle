{# tabla reutilizable de rankings #}
<table class="w-full text-sm border-separate border-spacing-y-2">
  <thead>
    <tr class="bg-black/80 text-yellow-100 text-lg"
        style="font-family:var(--font-lol); letter-spacing:.08em;">
      {# Columna de posiciÃ³n solo si HAY filas #}
      {% if rows %}
        <th class="rounded-l-2xl w-10"></th>
      {% endif %}
      <th {% if not rows %}class="rounded-l-2xl"{% endif %}>Jugador</th>
      <th>Media</th>
      <th class="rounded-r-2xl">Partidas</th>
    </tr>
  </thead>

  <tbody>
    {# ===== CUANDO HAY DATOS ===== #}
    {% if rows %}
      {% for row in rows %}
        {% with pos=forloop.counter %}
        <tr class="hover:brightness-110 transition duration-150">
          <!-- PosiciÃ³n -->
          <td class="px-0">
            <div class="w-9 h-9 flex items-center justify-center rounded-full mx-auto
              {% if pos == 1 %}bg-yellow-400 text-gray-900 font-bold
              {% elif pos == 2 %}bg-gray-300 text-gray-900 font-bold
              {% elif pos == 3 %}bg-amber-700 text-white font-bold
              {% else %}bg-gray-700 text-white text-xs{% endif %}">
              {% if pos == 1 %}ðŸ¥‡{% elif pos == 2 %}ðŸ¥ˆ{% elif pos == 3 %}ðŸ¥‰{% else %}{{ pos }}{% endif %}
            </div>
          </td>

          <!-- Jugador -->
          <td class="bg-black/60 text-gray-100 border-2 border-yellow-600 rounded-l-xl px-4 py-2">
            {{ row.user__username }}
          </td>

          <!-- Media -->
          <td class="bg-black/60 text-gray-100 border-y-2 border-yellow-600 px-4 py-2">
            {{ row.media|floatformat:2 }}
          </td>

          <!-- Partidas -->
          <td class="bg-black/60 text-gray-100 border-2 border-yellow-600 rounded-r-xl px-4 py-2">
            {{ row.partidas }}
          </td>
        </tr>
        {% endwith %}
      {% endfor %}

    {# ===== CUANDO NO HAY DATOS ===== #}
    {% else %}
      <tr class="hover:brightness-110 transition duration-150">
        <td colspan="3" class="py-4 text-center text-black">Sin datos ðŸ˜¢</td>
      </tr>
    {% endif %}
  </tbody>
</table>
