{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - GuessDle{% endblock %}

{% block main_class %}
min-h-screen flex flex-col items-center
bg-no-repeat bg-cover bg-fixed
bg-[url('{% static "img/login.png" %}')]
py-10 px-4 gap-10
{% endblock %}


{% block content %}
<h1 class="text-3xl font-bold text-center text-yellow-100 mb-10 drop-shadow">Bienvenido, {{ user.username }}</h1>

<!-- Tus estadísticas -->
<div class="bg-amber-100 text-gray-900 font-serif border-4 border-yellow-800 rounded-[32px] shadow-inner p-8 w-full max-w-4xl relative">
    <h2 class="text-2xl text-yellow-800 mb-4">📊 Tus estadísticas</h2>
    <ul class="space-y-2">
        {% for juego in user_stats.juegos %}
        <li class="border-b border-yellow-700 pb-2">
            <span class="font-semibold">{{ juego.nombre }}:</span> Media de acierto: {{ juego.media_tiempo }} intentos
        </li>
        {% endfor %}
    </ul>
</div>

<!-- Selección de juegos -->
<div class="bg-amber-100 text-gray-900 font-serif border-4 border-yellow-800 rounded-[32px] shadow-inner p-8 w-full max-w-4xl relative">
    <h2 class="text-2xl text-yellow-800 mb-4">🎮 Escoge un juego</h2>
    <div class="flex flex-wrap gap-4 justify-center">
        {% for juego in juegos_disponibles %}
        <a href="{% url 'play' juego.slug %}"
           class="bg-yellow-700 text-white px-6 py-3 rounded hover:bg-yellow-800 transition shadow text-lg">
            🎮 Jugar a {{ juego.name }}
        </a>
        {% endfor %}

    </div>
</div>

<!-- Ranking diario y semanal juntos -->
<div class="bg-amber-100 text-gray-900 font-serif border-4 border-yellow-800 rounded-[32px] shadow-inner p-8 w-full max-w-4xl relative">
    <h2 class="text-2xl text-yellow-800 mb-6 text-center">🏆 Ranking de jugadores</h2>

    <div class="grid md:grid-cols-2 gap-8">
        <!-- Ranking Diario -->
        <!-- Enlace al ranking completo -->
        <div class="text-center mt-6">
            <a href="{% url 'ranking_global' %}"
               class="bg-yellow-700 text-white px-6 py-3 rounded hover:bg-yellow-800 transition shadow text-lg">
                🏆 Ver ranking (media de intentos)
            </a>
        </div>
    </div>
</div>

{% endblock %}
